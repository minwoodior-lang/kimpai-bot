[TopInfoBar 아이콘 + 지표 데이터 점검 요청]

현재 상단 TopInfoBar 관련해서 다음 문제들이 있습니다.

1️⃣ 아이콘 깨짐 문제

지금 환율/USDT 구간 아이콘이 전부 깨진 상태입니다.

요청사항

TopInfoBar에서 사용하는 아이콘 경로를 실제 파일 기준으로 다시 맞춰주세요.

환율 아이콘

원하는 형태: “Google 환율” 느낌의 G 아이콘

예시 경로 (실제 파일명에 맞춰 수정 필요):

<Image
  src="/icons/google-favicon.png" // 실제 존재하는 파일명으로 교체
  alt="Google FX"
  width={14}
  height={14}
/>


USDT 아이콘

원하는 형태: 빗썸에서 쓰는 USDT 아이콘과 비슷한 스타일

예시:

<Image
  src="/icons/bithumb-usdt.png" // 실제 파일명에 맞춰 수정
  alt="Bithumb USDT"
  width={14}
  height={14}
/>


public/ 아래 실제 파일이 존재하는지 확인 후,
src="/icons/..." 경로와 실제 파일명을 반드시 일치시켜 주세요.
(지금은 404 나서 전부 깨진 이미지로 보입니다.)

2️⃣ 지표 수치가 실제 값과 다름

현재 상단 바의 수치가 김프가(KIMPGA) 실시간 값과 전혀 맞지 않습니다.

환율(₩/USD) 값이 김프가/네이버 기준과 차이 큼

USDT 가격도 빗썸 USDT/KRW 실시간 값과 불일치

BTC 점유율, 시가총액, 24시간 거래량 수치도 전부 실제 글로벌 데이터와 안 맞음 → 더미 값이거나 잘못된 필드 매핑으로 보임

TopInfoBar가 의도한 데이터 소스

환율 (₩ / $1)

소스: exchangerate.host 또는 동일한 FX API

필드: USD → KRW 환율 사용

표기 형식:

환율: ₩1,350 / $1 (+0.15%)


USDT (빗썸 기준)

소스: Bithumb Public API

/public/ticker/USDT_KRW

필드 매핑 예시:

현재가: data.closing_price

변동률: data.fluctate_rate_24H (%)

표기 형식:

테더: ₩1,284 / USDT (+0.07%)


BTC 점유율 / 시가총액 / 24시간 거래량

소스: CMC Global Metrics API 또는 동일한 글로벌 메트릭 API

예시 필드 매핑:

BTC 점유율: btc_dominance (%)

시가총액: total_market_cap (KRW 환산 후 조 단위로 표기, 예: 4,606조)

24시간 거래량: total_volume_24h (KRW 환산 후 조 단위, 예: 801조)

레이블은 다음과 같이 고정:

BTC 점유율

시가총액

24시간 거래량

동시접속자

Supabase active_sessions 테이블 기준

현재 로직 그대로 사용하되, 실제 카운트 값이 잘 들어오는지 한 번 더 확인 부탁드립니다.

3️⃣ 실제 데이터 연동 / 캐싱 로직 재점검

/api/global-metrics 에서 아래를 확인해 주세요.

각 외부 API 응답을 console.log 로 찍어보면서

환율: USD→KRW가 맞는지 (반대로 사용 중인지)

USDT: 빗썸 응답에서 정확히 어떤 필드를 쓰는지

글로벌 메트릭: 시총/거래량/점유율이 어떤 단위로 오는지

TopInfoBar에서 표시하는 값이 위 응답과 1:1로 매핑되도록 수정해 주세요.

더미 값 / 하드코딩 값이 남아 있으면 전부 제거

필요하면 utils/formatNumber.ts 같은 유틸로 조 단위, % 포맷만 적용

캐싱

현재 5분 캐싱 쓰고 있다면 그대로 유지하되,

캐싱 전 실제 응답 값이 정상인지 먼저 검증 후 적용해 주세요.

4️⃣ 최종 확인 체크리스트

작업 후 아래가 모두 맞는지 확인 부탁드립니다.

아이콘

환율 왼쪽 G 아이콘 정상 표시

USDT 왼쪽 빗썸 스타일 USDT 아이콘 정상 표시

숫자

김프가와 비교했을 때

환율 / USDT / BTC 점유율 / 시가총액 / 24시간 거래량이 대략적인 수준에서 비슷한 값

(소수점·반올림 차이는 괜찮지만, 단위·자리수가 완전히 다르면 안 됨)

레이블

BTC 점유율, 시가총액, 24시간 거래량, 동시접속자 그대로 표기