ğŸ“¢ [Replit ì „ë‹¬ìš©] ë‚¨ì€ ì‘ì—… ìµœì¢… ì •ë¦¬

êµ­ë‚´ 3ê±°ë˜ì†Œ ë§ˆì¼“/ì´ë¦„/ì•„ì´ì½˜ê¹Œì§€ëŠ” ì „ë¶€ ì™„ë£Œëœ ìƒíƒœì…ë‹ˆë‹¤.
ì´ì œ ì•„ë˜ ë‘ ê°€ì§€ë§Œ ì¶”ê°€ë¡œ êµ¬í˜„í•´ì„œ ë©”íƒ€ë°ì´í„° íŒŒì´í”„ë¼ì¸ì„ ì™„ì „íˆ ë§ˆë¬´ë¦¬í•´ ì£¼ì„¸ìš”.

1ï¸âƒ£ master_symbols.json ìƒì„± ìŠ¤í¬ë¦½íŠ¸

ëª©í‘œ:
ê±°ë˜ì†Œë³„ ë§ˆì¼“ì´ ì•„ë‹ˆë¼, ì‹¬ë³¼(symbol) ê¸°ì¤€ ë‹¨ì¼ ë©”íƒ€ íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ
ê²€ìƒ‰/ìë™ì™„ì„±/ìƒì„¸ í˜ì´ì§€ì—ì„œ ê³µí†µìœ¼ë¡œ ì“°ê²Œ í•˜ë ¤ í•©ë‹ˆë‹¤.

ìš”êµ¬ì‚¬í•­

ìƒˆ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ì¶”ê°€:

scripts/buildMasterSymbols.ts

ì´ ìŠ¤í¬ë¦½íŠ¸ì˜ ì—­í• :

data/exchange_markets.json + data/exchangeIcons.json ë¡œë“œ

base_symbol ê¸°ì¤€ìœ¼ë¡œ dedupe í•´ì„œ ì‹¬ë³¼ ë‹¨ìœ„ ë°°ì—´ ìƒì„±

ê° ì‹¬ë³¼ì— ëŒ€í•´ ë‹¤ìŒ ì •ë³´ êµ¬ì„±:

[
  {
    "symbol": "BTC",
    "name_ko": "ë¹„íŠ¸ì½”ì¸",
    "name_en": "Bitcoin",
    "icon_path": "/icons/UPBIT/BTC.png"
  },
  {
    "symbol": "ETH",
    "name_ko": "ì´ë”ë¦¬ì›€",
    "name_en": "Ethereum",
    "icon_path": "/icons/UPBIT/ETH.png"
  }
]


í•„ë“œ ì„ íƒ ê·œì¹™:

symbol

base_symbol.toUpperCase() ê¸°ì¤€ìœ¼ë¡œ Set dedupe

name_ko / name_en

ìš°ì„ ìˆœìœ„: UPBIT â†’ BITHUMB â†’ COINONE

ê°™ì€ ì‹¬ë³¼ì´ ì—¬ëŸ¬ ê±°ë˜ì†Œì— ìˆì„ ë•Œ, ìœ„ ìˆœì„œëŒ€ë¡œ ì²« ë²ˆì§¸ë¡œ ë°œê²¬í•œ ê°’ì„ ì‚¬ìš©

icon_path

data/exchangeIcons.json ì—ì„œ

ê°€ëŠ¥í•œ ê²½ìš° UPBIT:{symbol} í‚¤ë¥¼ ìš°ì„  ì‚¬ìš©

ì—†ìœ¼ë©´ BITHUMB:{symbol} â†’ COINONE:{symbol} ìˆœìœ¼ë¡œ fallback

ì—†ìœ¼ë©´ icon_path í•„ë“œë¥¼ ì•„ì˜ˆ ë„£ì§€ ì•Šê¸° (null ê¸ˆì§€)

ì¶œë ¥:

data/master_symbols.json íŒŒì¼ë¡œ ì €ì¥

JSON pretty print í˜•ì‹ ìœ ì§€ (JSON.stringify(..., null, 2))

npm script ì¶”ê°€:

"scripts": {
  ...
  "build:master-symbols": "ts-node scripts/buildMasterSymbols.ts"
}

2ï¸âƒ£ premiumTable.json ìƒì„± ìŠ¤í¬ë¦½íŠ¸

ëª©í‘œ:
exchange_markets.jsonì„ ê¸°ë°˜ìœ¼ë¡œ,
êµ­ë‚´â€“í•´ì™¸ ì‹œì„¸ë¥¼ ë¬¶ì–´ì„œ ê¹€í”„/í”„ë¦¬ë¯¸ì—„ í…Œì´ë¸”(premiumTable.json) ì„ ì •ê¸°ì ìœ¼ë¡œ ìƒì„±í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.

ì´ë¯¸ priceWorker / TradingView ì—°ë™ì— ì‚¬ìš© ì¤‘ì¸ ê°€ê²© fetch ë¡œì§ì´ ìˆìœ¼ë‹ˆ,
ê°€ëŠ¥í•˜ë©´ ê·¸ ë¡œì§ì„ ì¬ì‚¬ìš©í•´ì„œ ìŠ¤í¬ë¦½íŠ¸ë§Œ í•˜ë‚˜ë¡œ ì •ë¦¬í•´ ì£¼ì„¸ìš”.

ìš”êµ¬ì‚¬í•­

ìƒˆ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ì¶”ê°€:

scripts/buildPremiumTable.ts

ì´ ìŠ¤í¬ë¦½íŠ¸ì˜ ì—­í• :

data/exchange_markets.json ë¡œë“œ

ê° ì‹¬ë³¼/ë§ˆì¼“ ê¸°ì¤€ìœ¼ë¡œ:

êµ­ë‚´ ê¸°ì¤€ê°€(ì—…ë¹„íŠ¸/ë¹—ì¸/ì½”ì¸ì› ì¤‘ ëŒ€í‘œê°’)

í•´ì™¸ ê¸°ì¤€ê°€(OKX ë˜ëŠ” Binance ê¸°ì¤€ USDT ë§ˆì¼“)

ê¹€í”„/í”„ë¦¬ë¯¸ì—„ ê³„ì‚°

24h ê±°ë˜ëŒ€ê¸ˆ, ë³€ë™ë¥  ë“± ë¶€ê°€ ì •ë³´ í¬í•¨

ê°€ê²© ì†ŒìŠ¤ (ê°€ëŠ¥í•œ í•œ ê¸°ì¡´ ë¡œì§ ì¬ì‚¬ìš©):

êµ­ë‚´:

UPBIT, BITHUMB, COINONE í˜„ì¬ê°€ (KRW ê¸°ì¤€)

í•´ì™¸:

ìš°ì„  OKX USDT ë§ˆì¼“ (ì—†ìœ¼ë©´ Binance ë“± fallback)

í”„ë¦¬ë¯¸ì—„ ê³„ì‚° ê³µì‹:

premium = (koreanPrice - globalPriceKrw) / globalPriceKrw * 100;


globalPriceKrw = í•´ì™¸ USDT ê°€ê²© Ã— í™˜ìœ¨ (ê¸°ì¡´ workerì—ì„œ ì‚¬ìš© ì¤‘ì¸ ë¡œì§ ê·¸ëŒ€ë¡œ ì‚¬ìš©)

ì¶œë ¥ êµ¬ì¡° ì˜ˆì‹œ:

[
  {
    "symbol": "BTC",
    "name_ko": "ë¹„íŠ¸ì½”ì¸",
    "name_en": "Bitcoin",
    "koreanPrice": 135638000,
    "globalPrice": 90916.1,
    "globalPriceKrw": 133502110,
    "premium": 1.6,
    "volume24hKrw": 358508765923,
    "volume24hUsdt": 703945979.87,
    "volume24hForeignKrw": 1033681316301,
    "change24h": 7.47,
    "domesticExchange": "UPBIT",
    "foreignExchange": "OKX"
  }
]


í•„ìˆ˜ í•„ë“œ:

symbol, name_ko, name_en

koreanPrice, globalPrice, globalPriceKrw, premium

domesticExchange, foreignExchange

ì„ íƒ í•„ë“œ(ë°ì´í„° ìˆëŠ” ê²½ìš°ë§Œ):

volume24hKrw, volume24hUsdt, volume24hForeignKrw, change24h ë“±

ê°’ì´ ì—†ìœ¼ë©´ í•„ë“œë¥¼ ë„£ì§€ ë§ ê²ƒ(null ê¸ˆì§€)

ì¶œë ¥:

data/premiumTable.json ë¡œ ì €ì¥

JSON pretty print (JSON.stringify(..., null, 2))

npm script ì¶”ê°€:

"scripts": {
  ...
  "build:premium": "ts-node scripts/buildPremiumTable.ts"
}

3ï¸âƒ£ ì „ì²´ íŒŒì´í”„ë¼ì¸ ì •ë¦¬

ë§ˆì§€ë§‰ìœ¼ë¡œ, package.json ì—ì„œ ì „ì²´ ë¹Œë“œ íŒŒì´í”„ë¼ì¸ì„ í•œ ë²ˆì— ëŒë¦´ ìˆ˜ ìˆë„ë¡ ì •ë¦¬í•´ ì£¼ì„¸ìš”.

"scripts": {
  "fetch:upbit": "ts-node scripts/fetchUpbitMarkets.ts",
  "fetch:bithumb": "ts-node scripts/fetchBithumbMarkets.ts",
  "fetch:coinone": "ts-node scripts/fetchCoinoneMarkets.ts",
  "build:markets": "ts-node scripts/buildExchangeMarkets.ts",
  "build:exchange-icons": "ts-node scripts/buildExchangeIcons.ts",
  "build:master-symbols": "ts-node scripts/buildMasterSymbols.ts",
  "build:premium": "ts-node scripts/buildPremiumTable.ts",

  "build:all": "npm run fetch:upbit && npm run fetch:bithumb && npm run fetch:coinone && npm run build:markets && npm run build:exchange-icons && npm run build:master-symbols && npm run build:premium"
}


ì´ë ‡ê²Œ êµ¬ì„±í•´ ì£¼ì‹œë©´,

npm run build:all


í•œ ë²ˆìœ¼ë¡œ:

êµ­ë‚´ 3ê±°ë˜ì†Œ ë§ˆì¼“ ìµœì‹ í™”

í†µí•© exchange_markets.json ìƒì„±

ì•„ì´ì½˜ ì¸ë±ìŠ¤ ìƒì„±

master_symbols.json ìƒì„±

premiumTable.json ìƒì„±

ê¹Œì§€ ëª¨ë‘ ìë™ìœ¼ë¡œ ê°±ì‹ ë˜ë„ë¡ ë§Œë“¤ê³  ì‹¶ìŠµë‹ˆë‹¤.