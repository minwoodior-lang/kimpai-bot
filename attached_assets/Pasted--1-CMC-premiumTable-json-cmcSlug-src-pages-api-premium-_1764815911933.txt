ğŸ›  1. CMC ìŠ¬ëŸ¬ê·¸ëŠ” premiumTable.json ì˜ cmcSlugë¥¼ ìµœìš°ì„ ìœ¼ë¡œ ì‚¬ìš©í•˜ê²Œ ìˆ˜ì •

íŒŒì¼ ê²½ë¡œ

src/pages/api/premium/table-filtered.ts

ì§€ê¸ˆ result.map(...) ì•ˆì—ì„œ cmcSlug ë¥¼ ì´ë ‡ê²Œ ë§Œë“¤ê³  ìˆì„ ê±°ì•¼ (ë¹„ìŠ·í•œ í˜•íƒœ):

const cmcSlug = master?.cmc_slug ?? null;


ì´ ë¶€ë¶„ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•´ì¤˜:

// premiumRowëŠ” premiumTable.json ì—ì„œ ì˜¨ ì›ë³¸ í•œ ì¤„(ê¹€í”„ê°€ì—ì„œ ì“°ë˜ ë°ì´í„°)ì…ë‹ˆë‹¤.
// ë³€ìˆ˜ëª…ì´ ë‹¤ë¥´ë©´, premiumTable í•œ ì¤„ ê°ì²´ì— ìˆëŠ” cmcSlug í•„ë“œë¥¼ ì°¾ì•„ì„œ ë§ì¶°ì£¼ì„¸ìš”.

const cmcSlug =
  premiumRow.cmcSlug ||        // 1ìˆœìœ„: í”„ë¦¬ë¯¸ì—„ í…Œì´ë¸”ì— ì´ë¯¸ ìˆëŠ” ìŠ¬ëŸ¬ê·¸ (ê¹€í”„ê°€ì—ì„œ ì“°ë˜ ê°’)
  master?.cmc_slug ||          // 2ìˆœìœ„: Supabase master_symbols.cmc_slug
  master?.cmcSlug ||           // 3ìˆœìœ„: í˜¹ì‹œ camelCase ë¡œ ì €ì¥ëœ ê²½ìš°
  null;                        // ì—†ìœ¼ë©´ null â†’ í”„ë¡ íŠ¸ì—ì„œ /search?q= ë¡œ fallback


ê·¸ë¦¬ê³  API ì‘ë‹µ ê°ì²´ì— ë°˜ë“œì‹œ ì´ ê°’ì„ ì‹¤ì–´ ë³´ë‚´ì•¼ í•©ë‹ˆë‹¤:

return {
  // ... ê¸°ì¡´ í•„ë“œë“¤
  cmcSlug,   // <= ì´ í•„ë“œê°€ ìµœì¢…ì ìœ¼ë¡œ í”„ë¡ íŠ¸ PremiumTable.tsx ë¡œ ì „ë‹¬ë˜ê²Œ í•´ì£¼ì„¸ìš”.
};


í•µì‹¬: premiumTable.json ì•ˆì— ì›ë˜ ë“¤ì–´ ìˆë˜ cmcSlug ê°’(ê¹€í”„ê°€ì—ì„œ ì´ë¯¸ ê²€ì¦ëœ ê°’) ì„ ê·¸ëŒ€ë¡œ ìš°ì„  ì‚¬ìš©í•˜ê²Œ í•´ì£¼ì„¸ìš”.
Supabase ìª½ cmc_slug ëŠ” ë³´ì¡° ìˆ˜ë‹¨ì´ê³ , ë” ì´ìƒ name_en.toLowerCase() ì²˜ëŸ¼ ì¶”ì¸¡í•´ì„œ ìŠ¬ëŸ¬ê·¸ë¥¼ ë§Œë“œëŠ” ì½”ë“œëŠ” ì“°ì§€ ë§ì•„ ì£¼ì„¸ìš”.

ğŸ›  2. í”„ë¡ íŠ¸ì—ì„œ ì´ cmcSlug ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸

íŒŒì¼ ê²½ë¡œ

src/lib/coinMarketCapUtils.ts

src/components/PremiumTable.tsx

ì´ë¯¸ ì•„ë˜ì²˜ëŸ¼ ë˜ì–´ ìˆì„ ê±°ë¼ ìƒê°í•˜ì§€ë§Œ, í•œ ë²ˆë§Œ ë‹¤ì‹œ í™•ì¸í•´ ì£¼ì„¸ìš”.

// src/lib/coinMarketCapUtils.ts
export function openCmcPage(symbol: string, cmcSlug?: string | null) {
  const base = "https://coinmarketcap.com/ko";

  const url = cmcSlug
    ? `${base}/currencies/${cmcSlug}/?utm_source=apiswap&utm_medium=web&utm_campaign=kimpga`
    : `${base}/search/?q=${symbol}`;

  console.log("[CMC_URL] â†’", url);
  window.open(url, "_blank");
}

// src/components/PremiumTable.tsx (ì½”ì¸ëª… í´ë¦­ ë¶€ë¶„)
onClick={() => openCmcPage(row.symbol, row.cmcSlug)}


ì´ êµ¬ì¡°ë¼ë©´,

row.cmcSlug ê°€ ìˆìœ¼ë©´ â†’ /ko/currencies/{slug}/?... ë¡œ ë°”ë¡œ ì´ë™

ì—†ìœ¼ë©´ â†’ /ko/search/?q=SYMBOL ë¡œ fallback

âœ… ìµœì¢… ê¸°ëŒ€ ë™ì‘

ìˆ˜ì • í›„ì— ì•„ë˜ ì½”ì¸ë“¤ë¡œ í™•ì¸ ë¶€íƒí•©ë‹ˆë‹¤.

BTC

ì½˜ì†”: [CMC_URL] â†’ https://coinmarketcap.com/ko/currencies/bitcoin/?utm_source=apiswap...

ì‹¤ì œ ì´ë™: ë¹„íŠ¸ì½”ì¸ ìƒì„¸ í˜ì´ì§€

LINK (ì²´ì¸ë§í¬)

ì½˜ì†”: .../currencies/chainlink/?...

ì‹¤ì œ ì´ë™: ì²´ì¸ë§í¬ ìƒì„¸ í˜ì´ì§€

API3

ë§Œì•½ premiumTable.json ì— cmcSlug: "api3" ê°€ ìˆë‹¤ë©´:

.../currencies/api3/?... ë¡œ ì—´ë ¤ì•¼ ì •ìƒ

ë§Œì•½ slugê°€ ì•„ì˜ˆ ì—†ë‹¤ë©´:

/search/?q=api3 ê·¸ëŒ€ë¡œ ìœ ì§€ (ì´ ê²½ìš°ëŠ” ë°ì´í„° ìª½ì—ì„œ cmcSlug ì±„ì›Œ ë„£ì–´ì•¼ í•´ê²°)

ğŸ“ ì¶”ê°€ ë©”ëª¨ (ì˜¤ë¥˜ ë¡œê·¸ ê´€ë ¨)

ì½˜ì†”ì— ëœ¨ëŠ”

Widget settings parse error: Unexpected end of JSON input

Couldn't load support portal problems 403

ì´ ë¡œê·¸ë“¤ì€ TradingView ìœ„ì ¯ ë‚´ë¶€ì—ì„œ support API ë¶ˆëŸ¬ì˜¤ë‹¤ê°€ 403 ë‚˜ëŠ” ê²ƒì´ë¼ì„œ
ì‹¤ì œ ì°¨íŠ¸ ë Œë”ë§ê³¼ëŠ” í° ìƒê´€ ì—†ê³ , ë¬´ì‹œí•´ë„ ë˜ëŠ” ìˆ˜ì¤€ì…ë‹ˆë‹¤.
(ì§€ê¸ˆ ì°¨íŠ¸ëŠ” ì •ìƒ ë™ì‘í•˜ê³  ìˆìœ¼ë‹ˆ, ì´ ë¶€ë¶„ì€ ê±´ë“œë¦¬ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.)