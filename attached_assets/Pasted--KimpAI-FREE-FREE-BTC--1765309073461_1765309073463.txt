[ì „ë‹¬ë¬¸] â€” KimpAI FREE í…”ë ˆê·¸ë¨ ì¤‘ë³µ ë°œì†¡ ë²„ê·¸ ìˆ˜ì • ì§€ì‹œì„œ
ğŸ¯ ëª©í‘œ

FREE BTC ìŠ¤ìº”ì´ ë™ì¼ ì‹œê°/ë™ì¼ ì‹¬ë³¼ë¡œ ì—¬ëŸ¬ ë²ˆ ë°œì†¡ë˜ëŠ” ë¬¸ì œë¥¼ ì™„ì „íˆ ì°¨ë‹¨

ì„¤ë ¹ ë´‡ í”„ë¡œì„¸ìŠ¤ê°€ 2ê°œ ì´ìƒ ë–  ìˆì–´ë„,
ê°™ì€ 10ë¶„(ë˜ëŠ” 30ë¶„) ë²„í‚· ì•ˆì—ì„œ ë™ì¼ ì‹œê·¸ë„ì€ 1íšŒë§Œ ë°œì†¡ë˜ë„ë¡ ì ê¸ˆ ì²˜ë¦¬

1. ì¸í”„ë¼ ë ˆë²¨ ì ê²€ (ë™ì¼ í† í° ë‹¤ì¤‘ í”„ë¡œì„¸ìŠ¤ ë°©ì§€)

í˜„ì¬ í…”ë ˆë´‡ì´ ëŒì•„ê°€ëŠ” í”„ë¡œì„¸ìŠ¤ êµ¬ì¡° í™•ì¸:

Replitì—ì„œ:

npm run bot:devë¡œ ì‹¤í–‰í•œ dev í”„ë¡œì„¸ìŠ¤

ê³¼ê±°ì— Run ë²„íŠ¼ìœ¼ë¡œ ë„ì›Œë‘” bot í”„ë¡œì„¸ìŠ¤

ë‹¤ë¥¸ íƒ­ ë˜ëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ ëŒê³  ìˆëŠ” bot í”„ë¡œì„¸ìŠ¤ê°€ ìˆëŠ”ì§€ í™•ì¸

ì•„ë˜ë¥¼ ë°˜ë“œì‹œ í™•ì¸í•´ ì£¼ì„¸ìš”:

ë™ì¼ BOT TOKENì„ ì‚¬ìš©í•˜ëŠ” Node í”„ë¡œì„¸ìŠ¤ê°€ 1ê°œë§Œ ì¡´ì¬í•˜ë„ë¡ ì •ë¦¬

ë§Œì•½ bot:devì™€ bot:start ë˜ëŠ” ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ê°€ ë™ì‹œì— running ìƒíƒœë¼ë©´,

í•˜ë‚˜ë§Œ ë‚¨ê¸°ê³  ëª¨ë‘ ì¤‘ì§€

ì½”ë“œ ìƒì—ì„œë„ src/bot/index.js ë˜ëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ ì´ˆê¸°í™” ë¶€ë¶„ì— ë‹¤ìŒ ë¡œê·¸ ì¶”ê°€:

console.log("ğŸ¤– KimpAI Bot starting...", {
  pid: process.pid,
  env: process.env.NODE_ENV,
});


ì‹¤í–‰ ì‹œ PIDì™€ NODE_ENV ì°íˆê²Œ í•´ì„œ,

ë™ì¼ í† í°ìœ¼ë¡œ ë‘ ê°œ ì´ìƒ ëœ¨ëŠ”ì§€ ë¡œê·¸ë¡œ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆë„ë¡.

2. â€œë™ì¼ ë²„í‚· ì¤‘ë³µ ë°œì†¡ ë°©ì§€ìš© ë½â€ ë„ì…

í•µì‹¬ ì•„ì´ë””ì–´:
10ë¶„(ë˜ëŠ” 30ë¶„) ë‹¨ìœ„ë¡œ â€œì´ë²ˆ FREE BTC ìŠ¤ìº”ì€ ì´ë¯¸ ë°œì†¡í–ˆë‹¤â€ëŠ” ìƒíƒœë¥¼
ê°„ë‹¨í•œ ì €ì¥ì†Œì— ë‚¨ê²¨ë‘ê³ ,
ê°™ì€ ë²„í‚· ì•ˆì—ì„œëŠ” ì¬ë°œì†¡ì„ ë§‰ëŠ”ë‹¤.

2-1. ì‹œê°„ ë²„í‚· í•¨ìˆ˜ ì¶”ê°€

íŒŒì¼ ì˜ˆ: src/bot/utils/timeBuckets.js (ë˜ëŠ” ìœ ì‚¬ ìœ í‹¸ íŒŒì¼)

function floorToMinutesBucket(date, intervalMinutes = 10) {
  const d = new Date(date);
  const minutes = d.getMinutes();
  const bucketMinutes = Math.floor(minutes / intervalMinutes) * intervalMinutes;
  d.setMinutes(bucketMinutes, 0, 0);
  return d.toISOString(); // ì˜ˆ: 2025-12-10T04:30:00.000Z
}

module.exports = { floorToMinutesBucket };


FREE BTCëŠ” 30ë¶„ ê¸°ì¤€ì´ë©´ intervalMinutes = 30ìœ¼ë¡œ ì‚¬ìš©.

2-2. ë½ ì €ì¥ì†Œ ì„¤ê³„ (ê°„ë‹¨ ë²„ì „)

DBê¹Œì§€ ê°ˆ í•„ìš” ì—†ìœ¼ë©´,
src/bot/state/freeScanLock.js ì‹ìœ¼ë¡œ in-memory + TTL ë°©ì‹ìœ¼ë¡œ ì‹œì‘í•´ë„ ë¨.

// src/bot/state/freeScanLock.js
const locks = new Map();

/**
 * key: string (ì˜ˆ: "FREE_BTC_2025-12-10T04:30:00.000Z")
 * ttlMs: number (ì˜ˆ: 10 * 60 * 1000)
 */
function setLock(key, ttlMs) {
  const expireAt = Date.now() + ttlMs;
  locks.set(key, expireAt);
}

function hasLock(key) {
  const now = Date.now();
  const expireAt = locks.get(key);
  if (!expireAt) return false;
  if (expireAt < now) {
    locks.delete(key);
    return false;
  }
  return true;
}

module.exports = { setLock, hasLock };

2-3. FREE BTC ìŠ¤ìº”ì— ë½ ì ìš©

íŒŒì¼ ì˜ˆ: src/bot/schedulers/freeBtcScan.js ë˜ëŠ” BTC FREE ìŠ¤ìº” í•¨ìˆ˜ ì •ì˜ë¶€.

const { floorToMinutesBucket } = require("../utils/timeBuckets");
const { setLock, hasLock } = require("../state/freeScanLock");

async function runFreeBtcScan() {
  const now = new Date();
  const bucket = floorToMinutesBucket(now, 30); // 30ë¶„ ë‹¨ìœ„ ë²„í‚·
  const lockKey = `FREE_BTC_${bucket}`;

  if (hasLock(lockKey)) {
    console.log("[FREE BTC Scan] ì´ë¯¸ ì´ ì‹œê°„ëŒ€ì— ë°œì†¡ë¨. ì¤‘ë³µ ë°©ì§€ë¡œ ìŠ¤í‚µ");
    return;
  }

  console.log("[FREE BTC Scan] BTC ê¹€í”„ ìŠ¤ìº” ì‹œì‘...", { bucket });

  // ì—¬ê¸°ì„œ ì‹¤ì œ ë°ì´í„° ì¡°íšŒ + ì‹œê·¸ë„ íŒë³„
  const signal = await buildBtcSignal(); // ê¸°ì¡´ ë¡œì§ ì¬ì‚¬ìš©

  if (!signal) {
    console.log("[FREE BTC Scan] ì‹œê·¸ë„ ì—†ìŒ, ë°œì†¡ ìŠ¤í‚µ");
    setLock(lockKey, 30 * 60 * 1000); // ê·¸ë˜ë„ ë½ì€ ê±¸ì–´ë‘  (ì„ íƒ)
    return;
  }

  // ë©”ì‹œì§€ ì „ì†¡ ë¶€ë¶„
  await sendTelegramMessage(signal);

  console.log("âœ… [FREE BTC Scan] ë©”ì‹œì§€ ì „ì†¡ ì™„ë£Œ");
  setLock(lockKey, 30 * 60 * 1000); // 30ë¶„ TTL
}


ì´ë ‡ê²Œ í•˜ë©´:

ì–´ë–¤ ì´ìœ ë¡œë“  ë™ì¼ ì‹œê°ì— runFreeBtcScanì´ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œë˜ë”ë¼ë„
â†’ ë§¨ ì²˜ìŒ 1ë²ˆë§Œ ë°œì†¡ë˜ê³ , ë‚˜ë¨¸ì§€ëŠ” â€œì´ë¯¸ ë°œì†¡ë¨â€ ë¡œê·¸ ì°ê³  return.

3. í•œ ìŠ¤ìº” ë‚´ì—ì„œì˜ ì¤‘ë³µ sendMessage ë°©ì§€

í˜¹ì‹œ ì—ì´ì „íŠ¸ê°€ FREE í…œí”Œë¦¿ë“¤ êµ¬ì„±í•˜ë©´ì„œ
í•œ ë²ˆì˜ BTC ìŠ¤ìº”ì—ì„œ ì—¬ëŸ¬ ë²ˆ sendTelegram ì„ í˜¸ì¶œí•˜ëŠ” í˜•íƒœë¡œ ë°”ë€Œì—ˆì„ ìˆ˜ë„ ìˆìŒ.
ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´, BTC FREE ìŠ¤ìº”ì€ ë¬´ì¡°ê±´ 1ì‹¬ë³¼ 1ë©”ì‹œì§€ êµ¬ì¡°ë¡œ ê°•ì œ.

ì˜ˆ:

async function runFreeBtcScan() {
  // ... ë½ ì²´í¬ ìƒëµ

  const signalList = await buildBtcSignals(); 
  // í˜¹ì‹œë¼ë„ ë°°ì—´ë¡œ ë¦¬í„´ë˜ë”ë¼ë„, BTCëŠ” ë¬´ì¡°ê±´ ì²« ë²ˆì§¸ ê²ƒë§Œ ì‚¬ìš©

  if (!signalList || signalList.length === 0) {
    console.log("[FREE BTC Scan] ì‹œê·¸ë„ ì—†ìŒ");
    return;
  }

  const [bestSignal] = signalList;

  await sendTelegramMessage(bestSignal); // ì—¬ê¸°ì„œ ë‹¨ 1ë²ˆë§Œ í˜¸ì¶œ
}


ì ˆëŒ€ forë¬¸ìœ¼ë¡œ BTC FREEì—ì„œ ì—¬ëŸ¬ ê°œ sendMessage ëŒë¦¬ì§€ ì•Šê¸°

í•„ìš”í•˜ë‹¤ë©´ console.log("Sending BTC FREE signal", { symbol, bucket }) ì¶”ê°€í•´ì„œ
ì‹¤ì œë¡œ ëª‡ ë²ˆ ë³´ë‚´ëŠ”ì§€ í™•ì¸ ê°€ëŠ¥í•˜ê²Œ.

4. FREE ALT ìŠ¤ìº”ê³¼ BTC ìŠ¤ìº” ì™„ì „ ë¶„ë¦¬ í™•ì¸

ì „ë‹¬ë¬¸ ì‘ì—… ì¤‘ì—, FREE ALT ë¡œì§ê³¼ BTC ë¡œì§ì´ ë’¤ì„ì˜€ì„ ìˆ˜ ìˆìœ¼ë‹ˆ:

freeAltScan.js (TOP50 ì•ŒíŠ¸ìš©):

ë©”ì‹œì§€ ì œëª©: [KimpAI FREE] ë‹¨ê¸° ê¸‰ë“± ê°ì§€ â€” {{symbol}} or ë‹¨ê¸° ê¸‰ë½, ë³€ë™ì„± í™•ëŒ€

BTC ê¹€í”„ ë³€í™” ê°ì§€ ê°™ì€ ë¬¸êµ¬ê°€ ë‚˜ì˜¤ì§€ ì•Šë„ë¡ í…œí”Œë¦¿ ë¶„ë¦¬

freeBtcScan.js (BTC ë‹¨ë… ê¹€í”„ìš©):

ë©”ì‹œì§€ ì œëª©: [KimpAI FREE] BTC ê¹€í”„ ë³€í™” ê°ì§€

ì•ŒíŠ¸ ìŠ¤ìº”ì—ì„œ BTC í…œí”Œë¦¿ì„ ì˜ëª» ì“°ì§€ ì•Šë„ë¡, íŒŒì¼ ì—­í• /í…œí”Œë¦¿ ë¶„ë¦¬.

5. ìµœì¢… í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

ë´‡ í”„ë¡œì„¸ìŠ¤ 1ê°œë§Œ ë™ì‘í•˜ëŠ”ì§€ Replitì—ì„œ í™•ì¸

npm run bot:dev ì‹¤í–‰ í›„:

FREE BTC ìŠ¤ì¼€ì¤„ì´ 30ë¶„ë§ˆë‹¤ íŠ¸ë¦¬ê±°ë˜ëŠ”ì§€

ê°™ì€ 30ë¶„ ë²„í‚·(ì˜ˆ: 04:30) ì•ˆì—ì„œ

ë¡œê·¸: [FREE BTC Scan] BTC ê¹€í”„ ìŠ¤ìº” ì‹œì‘...

âœ… [FREE BTC Scan] ë©”ì‹œì§€ ì „ì†¡ ì™„ë£Œ
â†’ ë‹¨ 1ë²ˆë§Œ ì°íˆëŠ”ì§€ í™•ì¸

ë§Œì•½ ë‘ ë²ˆ ì´ìƒ ì°íŒë‹¤ë©´:

ë½ ë¡œê·¸: [FREE BTC Scan] ì´ë¯¸ ì´ ì‹œê°„ëŒ€ì— ë°œì†¡ë¨. ì¤‘ë³µ ë°©ì§€ë¡œ ìŠ¤í‚µì´ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸

í…”ë ˆê·¸ë¨ ì±„ë„ì—ì„œ:

ê°™ì€ ì‹œê°ì— BTC FREE ì•Œë¦¼ì´ 1ê°œë§Œ ì˜¤ëŠ”ì§€

ì´í›„ 30ë¶„ ë’¤(ì˜ˆ: 05:00)ì— ìƒˆë¡œ í•œ ê±´ë§Œ ì˜¤ëŠ”ì§€