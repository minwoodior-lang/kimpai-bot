현재 3개 거래소 마켓 데이터(총 1510개)는 Supabase에 정상 저장된 상태입니다.
Upbit/Bithumb/Coinone 모두 name_ko 및 name_en이 자동 매핑되어 있습니다.

하지만 홈페이지 하단의 김프 테이블이 여전히 기존 데이터소스를 참고하고 있어
업데이트된 mar­ket/name 정보가 UI에 반영되지 않고 있습니다.

또한 백엔드에서 다음 에러가 반복됩니다:
"Could not find a relationship between 'exchange_prices' and 'exchange_markets' in the schema cache"

이 에러는 /api/premium/table.ts 에서 JOIN이 exchange_markets 스키마를 기준으로
정상적으로 이루어지지 않아서 발생하는 문제입니다.

아래 두 가지 작업을 요청드립니다.

────────────────────────────────────
1) ⭐ 프론트 데이터 소스 전면 교체 요청
────────────────────────────────────

지금 UI에서 김프 테이블이 사용하는 데이터소스를
"기존 하드코딩/옛 테이블" → "Supabase exchange_markets / master_symbols"
로 전면 교체해 주세요.

참고해야 하는 두 테이블은 다음과 같습니다:

- public.exchange_markets (1510개 마켓)
  필드:
    - market_code
    - base_symbol
    - quote_symbol
    - name_ko
    - name_en
    - exchange

- public.master_symbols (564개 심볼)
  필드:
    - base_symbol
    - name_ko
    - name_en
    - exchanges

프론트 코인명 표기 규칙:
displayName = name_ko ?? name_en ?? base_symbol

이 구조로 교체해야 프론트 UI에서 한글명/영문명/아이콘이 정상적으로 뜹니다.

────────────────────────────────────
2) ⭐ /api/premium/table.ts JOIN 오류 수정 요청
────────────────────────────────────

현재 프리미엄 테이블 API에서 다음 오류가 발생하며 데이터가 반환되지 않습니다:

"Could not find a relationship between 'exchange_prices' and 'exchange_markets'"

문제 요약:
- JOIN 조건이 잘못되었거나
- market_code 또는 base_symbol 기준이 NULL-safe하게 처리되지 않아서
- Supabase 스키마 캐시가 관계를 인식하지 못하고 있는 상태입니다.

요청 내용:
- /api/premium/table.ts 내부 JOIN 로직을 재확인해 주세요.
- exchange_prices.market_code → exchange_markets.market_code 기준으로 JOIN
- 혹은 exchange_prices.symbol → exchange_markets.base_symbol 기준으로 JOIN
- NULL-safe 연산 적용 (COALESCE 등)
- JOIN 실패 시 fallback 값 처리

이 문제가 해결되면 UI의 김프 리스트가 정상적으로 로드될 것입니다.

────────────────────────────────────
+ Price Worker 재시작 요청

마지막으로 exchange_prices 워커가 재시작 실패 상태이므로
프로세스 재부팅이 필요합니다.
(현재 마켓 스키마가 변경되었기 때문에 worker도 최신 스키마로 다시 연결해야 합니다.)

────────────────────────────────────

요약:
- 1510개 마켓 DB는 완성된 상태
- Coinone 한글명도 자동화 완료
- 지금 문제는 "프론트 데이터소스 교체" + "premium/table JOIN 수정" 두 가지뿐입니다.

위 두 작업이 적용되면 전체 시스템이 정상 동작합니다.
