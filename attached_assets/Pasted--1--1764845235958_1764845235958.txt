레플릿 개발자님께 전달할 내용

안녕하세요.
해외 거래소 가격/김프 쪽이 아직 프론트에 반영이 안 돼서 상황 공유드립니다.

1. 현재 증상

홈 화면 / 마켓 테이블에서:

국내 현재가(업비트 기준 가격)는 정상으로 보이는데

그 옆에 나와야 하는

해외거래소 현재가

김프

전일대비

고가 대비

저가 대비

거래액(24h 거래대금)
이 전부가 빈 값이거나 0 / 표시 안 됨 상태입니다.

즉, 국내 가격만 들어오고 해외거래소 데이터와 김프 계산 결과가 프론트까지 전달되지 않는 상황 같습니다.

2. 프록시 서버 상태 (정상 작동 확인됨)

Render에 배포된 프록시 서버는 현재 아래처럼 모두 정상 응답합니다.

헬스체크

https://kimpai-price-proxy-1.onrender.com/


→ {"status":"proxy-ok", ... }

Binance Spot

https://kimpai-price-proxy-1.onrender.com/binance/api/v3/ticker/price?symbol=BTCUSDT


→ {"symbol":"BTCUSDT","price":"..."}

Binance Futures

https://kimpai-price-proxy-1.onrender.com/binance/fapi/v1/ticker/price?symbol=BTCUSDT


→ {"symbol":"BTCUSDT","price":"...","time":...}

Bybit Spot

https://kimpai-price-proxy-1.onrender.com/bybit/v5/market/tickers?category=spot&symbol=BTCUSDT


→ retCode:0, retMsg:"OK", result.list[0].symbol === "BTCUSDT"

Replit에서 말씀해주신 것처럼
workers/fetchers/binance.ts, workers/fetchers/globalExchanges.ts,
src/pages/api/proxy/binance.ts, scripts/exchangeFetchers.ts 에서
직접 호출하던 api.binance.com / fapi.binance.com / api.bybit.com 은
이미 위 프록시 URL로 교체된 상태라고 들었습니다.

3. 요청드리는 부분

그래서 프록시 → 워커 → DB → API → 프론트 이 체인 중간 어딘가에서 해외 가격/김프가 끊긴 것 같습니다. 아래 순서로 한 번만 점검 부탁드립니다.

워크 플로우 확인

workers/fetchers/globalExchanges.ts
scripts/exchangeFetchers.ts
실행 시 에러 없이 Binance/Bybit 데이터가 잘 들어오는지 로그 확인 부탁드립니다.

최근에 말씀주신 것처럼
가격 엔트리가 4,507개까지 늘어난 상태인지 다시 한 번 체크 부탁드립니다.

DB 테이블 상태 확인

해외 거래소 가격이 저장되는 테이블
(예: exchange_prices, global_prices 등 실제 사용 중인 테이블) 에
Binance / Bybit 기준 행이 실시간으로 쌓이고 있는지 확인 부탁드립니다.

김프/변동률/고가/저가/거래대금 계산 결과를 담는
프리미엄 테이블(예: premium_table 또는 동일 역할 테이블)에
값이 정상으로 채워지는지 확인 부탁드립니다.

프론트에서 사용하는 API 응답 확인

홈/마켓 테이블에서 사용하는 API 엔드포인트
(예: /api/premium-table, /api/markets, /api/prices 등 실제 경로) 의 응답 JSON 안에

foreignPrice 또는 해외거래소 가격 필드

premium, change24h, high24h, low24h, volume24hKrw/Usdt
값이 들어오는지 직접 호출해서 확인 부탁드립니다.

만약 API 응답에는 값이 있는데 UI가 안 나오면 프론트 매핑 문제이고,
아예 API 응답 자체에 값이 없으면 워커/DB 쪽 문제인 것 같습니다.

4. 정리

Render 프록시 서버는 현재 Spot / Futures / Bybit 모두 정상 동작 중입니다.

국내 가격은 잘 보이지만, 해외 거래소 현재가 + 김프 + 전일·고가·저가·거래액이
프론트에서 전부 비어 있어서,
Replit 쪽 백엔드/워커에서 해외 가격을 프론트용 API까지 전달하는 마지막 구간을
한 번만 점검해 주시면 좋겠습니다.