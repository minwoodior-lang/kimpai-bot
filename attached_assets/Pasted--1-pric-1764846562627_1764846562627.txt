✅ 레플릿 개발팀 전달용 — “기존 깜빡임 전체 효과 제거 요청”

아래 내용을 그대로 전달하면 끝남.

📌 1. 제거해야 하는 기존 기능 설명

현재 테이블의 “현재가(price)” 칼럼에 값이 변경될 때,
셀 전체(배경 + 텍스트)가 깜빡이는 효과가 적용되어 있습니다.

이 기존 애니메이션을 전부 비활성화하거나 삭제해 주세요.

앞으로는 텍스트 색상만 깜빡이는 방식으로 처리할 예정이며,
해당 효과는 PriceCell 컴포넌트에서만 이루어집니다.

따라서 테이블 row 또는 td 단위에 적용된
flash, blink, highlight, animate-* 등 기존 CSS/JS 트리거를 모두 제거해야 합니다.

✅ 2. 삭제가 필요한 코드 유형 (확인 리스트)

레플릿 팀이 확인해야 할 항목을 구체적으로 적어줄게.

🔥 A. td 또는 tr 에 들어 있는 애니메이션 class 제거

예:

<td className={`price-cell ${priceUp ? "flash-green" : "flash-red"}`}>


또는:

<tr className={isUpdated ? "highlight-row" : ""}>


➡️ 전부 삭제해야 함

🔥 B. useEffect 안에서 직접 DOM에 class 넣는 로직 제거

예:

useEffect(() => {
  if (previousPrice !== price) {
    setFlash(true);
    setTimeout(() => setFlash(false), 200);
  }
}, [price]);


또는:

ref.current.classList.add("blink");


➡️ 이런 로직도 전부 삭제해야 함.

🔥 C. 전체 셀에 적용되는 CSS 애니메이션 제거

예:

.flash-green {
  animation: flashGreen 0.3s;
}

@keyframes flashGreen {
  0%   { background: rgba(0,255,0,0.2); }
  100% { background: transparent; }
}


또는:

.blink { animation: blink-bg 0.5s; }


➡️ 배경 깜빡임, 전체 셀 깜빡임 관련 keyframes 전부 제거

🔥 D. 가격 비교 후 row 상태 업데이트하는 state 제거

예:

const [isUpdated, setIsUpdated] = useState(false);


➡️ PriceCell 안에서만 비교하도록 바꾸므로, table 레벨 비교 로직 제거해야 함.

✅ 3. 새로 적용되는 방식 (이 부분도 같이 전달)

가격 변화 감지는 PriceCell 내부에서만 처리합니다.
따라서 테이블 구성 컴포넌트에서는 더 이상 price 비교나 애니메이션 트리거가 필요 없습니다.

앞으로 테이블은 단순히 값을 전달만 하면 되고,
애니메이션은 PriceCell 단일 책임으로 변경됩니다.

그리고 아래 코드를 반드시 사용하도록 전달:

PriceCell 교체 코드 (재전달용)
import React, { useEffect, useRef, useState } from "react";

interface PriceCellProps {
  price: number | null | undefined;
  className?: string;
}

type Trend = "up" | "down" | null;

const PriceCell: React.FC<PriceCellProps> = ({ price, className = "" }) => {
  const [trend, setTrend] = useState<Trend>(null);
  const prevPriceRef = useRef<number | null>(null);

  useEffect(() => {
    if (price == null) return;

    const prev = prevPriceRef.current;
    if (prev != null) {
      if (price > prev) setTrend("up");
      else if (price < prev) setTrend("down");
    }

    prevPriceRef.current = price;

    if (trend) {
      const timer = setTimeout(() => setTrend(null), 500);
      return () => clearTimeout(timer);
    }
  }, [price]);

  const formatted = price == null ? "-" : price.toLocaleString("ko-KR");

  const flashClass =
    trend === "up"
      ? "price-flash-up"
      : trend === "down"
      ? "price-flash-down"
      : "";

  return (
    <span className={`whitespace-nowrap ${flashClass} ${className}`}>
      {formatted}
    </span>
  );
};

export default PriceCell;

+ globals.css (반드시 추가)
@keyframes price-flash-up {
  0% { color: #22c55e; }
  100% { color: inherit; }
}

@keyframes price-flash-down {
  0% { color: #ef4444; }
  100% { color: inherit; }
}

.price-flash-up {
  animation: price-flash-up 0.5s ease-out;
}

.price-flash-down {
  animation: price-flash-down 0.5s ease-out;
}

✅ 4. 최종 전달 문장 (레플릿 개발자에게 그대로 보내면 됨)

“현재가 컬럼의 기존 ‘셀 전체가 깜빡이는’ 애니메이션을 전부 삭제해주세요.
이제는 PriceCell 내부에서 텍스트 색상만 깜빡이는 방식으로 대체합니다.
테이블 row/td 레벨의 flash/blink/highlight 관련 클래스 및 애니메이션 로직을 모두 제거하고,
아래 새 PriceCell 코드 + globals.css 애니메이션을 적용해 주세요.”