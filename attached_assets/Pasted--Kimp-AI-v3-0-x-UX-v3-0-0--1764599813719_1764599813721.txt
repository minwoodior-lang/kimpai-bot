🔧 Kimp AI v3.0.x – 시세 정확도 & 모바일 UX 보완 최종 지시문

이 문서는 현재 v3.0.0 기준 구현 상태를 점검한 뒤, 반드시 수정되어야 하는 핵심 항목을 정리한 것입니다.
특히 “시세 정확도 · 속도 · 가독성” 세 가지를 최우선으로 합니다.

1. 아이콘(심볼) 시스템 – 거래소 / 코인 모두 필수 적용

거래소 아이콘(파비콘)

현재: 드롭다운·테이블 모두 이모지/텍스트만 사용, 실제 거래소 심볼 없음.

목표:

모든 거래소에 실제 로고 아이콘 사용 (SVG 또는 PNG).

사용 위치:

상단 드롭다운: 🇰🇷 업비트 KRW → UPbit 로고 + "업비트 KRW",
바이낸스 USDT 마켓 → Binance 로고 + 텍스트

테이블 헤더 / 각 행의 “기준 거래소/해외 거래소” 라벨에도 동일 아이콘 사용.

아이콘 리소스는 /public/exchanges/{id}.svg 형태로 로컬 관리 권장.

코인 아이콘

현재: CoinIcon 시스템 도입했다고 했으나, 실제 화면에서 코인 심볼이 노출되지 않음.

목표:

코인명 왼쪽에 실제 코인 로고 표시 (XRP 로고, BTC 로고 등).

symbol 기준으로 cryptoicons 또는 자체 CDN/SVG 매핑.

아이콘이 없는 코인은 지금처럼 그라데이션 폴백 사용.

2. 모바일 현재가 표시 순서 & 구조

현재가 순서 (모바일)

현재: 모바일에서 현재가 영역이 $USDT만 나오거나, 순서가 뒤집혀 있음.

목표: 모바일에서 무조건 아래 순서로 표시

위:  국내가 (KRW)   → 예: ₩128,557,000
아래: 해외가 (KRW + USDT) → 예: ₩86,507,00 / $65,000 USDT


KRW 값이 메인, USDT 값은 보조 텍스트(폰트 작게, 회색)로 표시.

노출 컬럼(모바일) – 한 화면에 모두 보여야 함

현재: 모바일에서 코인명 / 현재가 / 김프 3개만 한눈에 들어오고,
전일대비 / 거래액(일) 이 잘리지 않고 보이지 않음.

목표(김프가 모바일과 동일 구조):

모바일 한 행에 다섯 컬럼이 모두 보여야 함 (가로 스크롤 없이):

코인명 | 현재가 | 김프 | 전일대비 | 거래액(일)

이를 위해:

모바일 전용 폰트 사이즈/패딩 축소

각 컬럼 최소 폭 줄이기

필요 시 숫자 단위 축약(억/조) 유지하면서 폭 최적화

3. 상단 거래소 선택 라인 UI 구조 변경

현재: 드롭다운 2개 + 검색창만 있음.

목표: 김프가와 유사한 정보 라인으로 변경

[기준 거래소 🙌]  [업비트 KRW ▼]   ↔   [해외 거래소 🙌]  [바이낸스 USDT 마켓 ▼]   |   암호화폐 총 XXX개   |   [검색창]


변경 사항:

텍스트 라벨 명확화:

왼쪽: 기준 거래소 🙌

오른쪽: 해외 거래소 🙌

두 드롭다운 사이에 ↔ 아이콘(또는 교환 아이콘) 표시

드롭다운 오른쪽에 암호화폐 총 N개 카운트 노출

그 다음에 검색창 배치

4. 바이낸스 / 바이비트 – 가격 & 거래액 정확도 복구 (최우선)

현재:

Binance / Bybit 현재가, 24h 거래대금이 실제 사이트와 크게 다르거나 - 로 나옴.

CoinGecko 글로벌 볼륨 폴백 때문에 거래소 전용 볼륨이 아니라 “전 세계 전체 거래량”이 섞여 들어가는 문제 존재.

목표: 바이낸스 / 바이비트는 반드시 “그 거래소 자체 24h 볼륨” 기준으로 표시

우선순위

1순위: 바이낸스(Spot, USDT 마켓)

2순위: 바이낸스 Futures / Bybit(USDT 선물)

3순위: OKX, Bitget, Gate, HTX, MEXC (현재 비교적 정확해 보이나 다시 한 번 검증)

요구사항

Binance / Bybit 는 해당 거래소 정식 API의 quote-volume 필드를 사용.

예:

Binance: 24h Vol(USDT) 계열 필드

Bybit: turnover24h 등 quote volume 필드

이 API를 직접 호출할 수 없는 환경(451/403)이라면:

해당 거래소의 거래액은 표시하지 말고 -로 고정
(CoinGecko 글로벌 값으로 땜빵하지 말 것)

시세(현재가)도 동일:

CoinGecko 등 다른 출처와 섞지 말고 거래소별 공식 ticker 가격 사용.

차단 때문에 어쩔 수 없이 다른 출처를 쓸 경우,

가격 오차가 0.5~1% 이상이면 그 코인은 숨기거나 데이터 없음 취급.

정확도 기준

BTCUSDT 기준:

업비트/김프가 화면과 비교했을 때,

현재가 차이 0.5% 이내,

24h 거래액 차이 5~10% 이내(수치상 약간의 시차는 허용)

위 기준 만족하지 못하는 거래소는 데이터 소스를 다시 점검해서 API 필드 선택을 수정.

5. 시세 갱신 속도 – 체감 속도 김프가 수준으로

현재:

업데이트는 되고 있지만, 업비트·김프가에 비해 반응이 느리게 느껴짐
(1초마다 깜빡이는 느낌이 아니라 3~5초에 한 번씩 스르르 바뀌는 느낌)

목표:

백엔드

Price Worker / API 데이터 수집 간격:

주요 심볼(BTC, ETH, 상위 거래대금 50개): 1–2초 간격

나머지 코인: 5초까지는 허용

가능하다면 WebSocket 또는 SSE를 검토,
최소한 /api/premium/table 응답이 최근 2초 이내 데이터만 포함되도록 보장.

프론트엔드

테이블 리렌더링 최적화:

기존 구현처럼 행 전체가 아니라 숫자 텍스트만 교체되도록 유지.

현재 플래시 애니메이션은 유지하되,
데이터가 바뀌면 즉시 반영되도록 polling interval을 1~2초대로 조정.

6. 가격 소수점 규칙 & 누락 코인

소수점 규칙(국내 가격 KRW 기준)
현재 일부 코인(예: 사인 73원 등)에서 소수점 처리가 안 되어 있음.

요구사항:

1,000원 이상  →  정수 (예: ₩128,557,000)
100 ~ 999원   →  소수점 1자리  (예: ₩742.3)
1 ~ 99원      →  소수점 2자리  (예: ₩73.25)
1원 미만      →  소수점 4자리  (예: ₩0.0031)


이 규칙을 국내·해외 KRW 가격 모두 동일하게 적용.

USDT 표기:

1 USDT 이상: 소수점 2자리

1 미만: 소수점 4자리

국내 가격 누락 코인

현재 업비트 KRW 마켓임에도 국내 현재가가 0 또는 비어 있는 코인이 일부 존재.

처리 지침:

국내 기준 거래소에서 해당 마켓이 존재하면,
ticker 데이터를 무조건 1:1로 매핑해서 가격이 떠야 함.

foreign(해외) 가격이 없을 경우:

해외 관련 컬럼(해외가, 김프, 해외 거래액)은 모두 -

국내 가격과 거래액은 그대로 표시 (행을 삭제하지 말 것)

7. 미상장 코인 처리 방식

현재:

미상장 코인에 회색 “미상장” 배지 및 일부 기능(차트 보기 버튼) 누락.

목표:

목록 유지

코인 리스트는 국내 기준 거래소 전체 리스트를 기준으로 유지.

특정 해외 거래소에 없는 코인은:

해외가 / 김프 / 해외 거래액만 -

행은 그대로 유지 (국내 가격, 국내 거래액은 정상 표시)

차트 버튼도 항상 노출

해외 미상장인 경우, 국내 거래소 TV 차트(예: Upbit:KRW-XXX)라도 연결.

“미상장” 배지

배지는 유지하되, UI 색상만 살짝 (지금처럼 죽어 보이는 회색 대신 중립 색)

데이터는 일반 코인과 동일하게 취급(버튼/행 비활성화 금지).

8. 즐겨찾기 기능 유지 및 아이콘 위치

코인명 왼쪽: 즐겨찾기 별 아이콘 (비어 있음/채워짐)

그 오른쪽: 코인 아이콘 + 코인명(한글) + 심볼(영문)

데스크톱/모바일 공통 구조로 유지.

✅ 요약 – 이번 라운드에서 꼭 확인해야 할 체크리스트

거래소/코인 로고 아이콘 실제 심볼로 정상 노출

모바일에서 국내가(위) / 해외가(아래, KRW + USDT) 순서로 표시

모바일 한 행에 코인명/현재가/김프/전일대비/거래액(일) 전부 보이게 레이아웃 조정

상단 거래소 라인:
기준 거래소 + 해외 거래소 + 암호화폐 총 N개 + 검색창 구조로 변경

Binance / Bybit 가격·거래액 실제 사이트와 근접하게 맞추기 (API 필드 재점검, CoinGecko 폴백 시 볼륨 숨김)

시세 갱신 주기 1–2초대로 단축 & 프론트 즉시 반영 (김프가 체감 속도 수준)

소수점 규칙 및 국내 가격 누락 코인 전수 점검

미상장 코인은 행 유지, 해외 값만 -, 차트 버튼은 항상 표시