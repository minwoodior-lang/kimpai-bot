# KimpAI v3.3.0 - Kimchi Premium Analytics Dashboard

## ðŸ“‹ ìƒíƒœ: ì½”ì¸ í…Œì´ë¸” UI ìµœì¢… ì™„ì„± + ìƒë‹¨ í™˜ìœ¨ë°” êµ¬í˜„ (Phase 3 âœ…)

### ìµœì¢… ì™„ì„± (2025-12-03)

**âœ… Phase 3 - ì™„ë£Œëœ ê²ƒ:**

#### 1ï¸âƒ£ ì½”ì¸ í…Œì´ë¸” UI ìµœì¢… ì™„ì„±
- âœ… ì¦ê²¨ì°¾ê¸°(â˜…) ì»¬ëŸ¼ ë¶„ë¦¬ (ì œì¼ ì™¼ìª½, 30px ê³ ì •)
  - í´ë¦­ ì‹œ í•´ë‹¹ ì½”ì¸ì„ ë¦¬ìŠ¤íŠ¸ ìµœìƒë‹¨ìœ¼ë¡œ í•€ ê³ ì • (ì •ë ¬ ê¸°ë°˜)
  - ê¸°ë³¸ ìƒ‰ìƒ #A7B3C6/40 + hover ì‹œ #FDCB52 ê°•ì¡°
- âœ… ì½”ì¸ëª… í—¤ë” ë†’ì´ ì¡°ì • (py-2 â†’ py-1.5)
- âœ… í•œê¸€/ì˜ë¬¸ëª… ì¤„ê°„ê²© ìµœì í™” (leading-[13px])
- âœ… ì»¬ëŸ¼ëª… ìˆ˜ì •: ì „ì¼ â†’ ì „ì¼ëŒ€ë¹„, ê±°ëž˜ì•¡ â†’ ê±°ëž˜ì•¡(ì¼)
- âœ… ì•„ì´ì½˜-ì½”ì¸ëª…-ë³„ë²„íŠ¼ ì™„ë²½ ì •ë ¬ (ìˆ˜í‰ ë¼ì¸)

#### 2ï¸âƒ£ ìƒë‹¨ í™˜ìœ¨ë°”(TopInfoBar) êµ¬í˜„
- âœ… Layout.tsx í—¤ë” ìœ„ì— ì–‡ì€ í™˜ìœ¨/ì§€í‘œ ë°” ì¶”ê°€
- âœ… í™˜ìœ¨(â‚©/$ í˜•ì‹) Â· USDT/KRW Â· BTC ì ìœ ìœ¨ Â· ì‹œê°€ì´ì•¡ Â· 24ì‹œê°„ ê±°ëž˜ëŸ‰ Â· ë™ì‹œì ‘ì†ìž
- âœ… ë¼ë²¨ ìµœì¢… ì •ì •: "BTC:" â†’ "BTC ì ìœ ìœ¨", "ê±°ëž˜ëŸ‰:" â†’ "24ì‹œê°„ ê±°ëž˜ëŸ‰"
- âœ… ì•„ì´ì½˜: Google ê·¸ë¼ë””ì–¸íŠ¸ + Bithumb USDT(â‚® ê¸°í˜¸)
- âœ… ë³€í™”ìœ¨ ìƒ‰ìƒ: ì–‘ìˆ˜ #50e3a4, ìŒìˆ˜ #ff6b6b, ì¤‘ë¦½ #A7B3C6

#### 3ï¸âƒ£ ê¸€ë¡œë²Œ ë©”íŠ¸ë¦­ API êµ¬í˜„
- âœ… `/api/global-metrics` ì—”ë“œí¬ì¸íŠ¸ (5ë¶„ ìºì‹œ)
- âœ… FX API(exchangerate.host)ì—ì„œ USD/KRW í™˜ìœ¨ ìˆ˜ì§‘
- âœ… Bithumb APIì—ì„œ USDT/KRW ì‹œì„¸ + ë³€í™”ìœ¨ ìˆ˜ì§‘
- âœ… Supabase active_sessions í…Œì´ë¸”ë¡œ ë™ì‹œì ‘ì†ìž ì¹´ìš´íŒ…
- âœ… `/api/heartbeat` ì—”ë“œí¬ì¸íŠ¸ (30ì´ˆë§ˆë‹¤ ì„¸ì…˜ ê°±ì‹ )

#### 4ï¸âƒ£ ë§ˆì¼“ ë°ì´í„° ìˆ˜ì§‘ (3ê°œ êµ­ë‚´ ê±°ëž˜ì†Œ)
- **Upbit**: 664ê°œ ë§ˆì¼“ + í•œê¸€/ì˜ë¬¸ëª… âœ…
  - API ì§ì ‘ í˜¸ì¶œë¡œ `korean_name`, `english_name` ìžë™ ìˆ˜ì§‘
- **Bithumb**: 456ê°œ ë§ˆì¼“ + í•œê¸€/ì˜ë¬¸ëª… âœ…
  - Bithumb API `/v1/market/all` ê¸°ë°˜ (korean_name/english_name ìžë™)
- **Coinone**: 390ê°œ ë§ˆì¼“ + í•œê¸€/ì˜ë¬¸ëª… âœ…
  - ê³µì‹ ê³ ê°ì„¼í„° HTML í¬ë¡¤ë§ìœ¼ë¡œ í•œê¸€ëª… ì¶”ì¶œ
  - 408ê°œ ì‹¬ë³¼ ë§¤í•‘ ì™„ë£Œ

#### 2ï¸âƒ£ ìµœì¢… í†µí•© íŒŒì¼
- `data/exchange_markets.json`: **1,120ê°œ ë§ˆì¼“**
  - ê° ë§ˆì¼“ = exchange + symbol ê¸°ì¤€ ë³„ë„ í–‰ (ì ˆëŒ€ ê·¸ë£¹í•‘ X)
  - ëª¨ë“  UPBIT, BITHUMB, COINONE í•­ëª©ì— name_ko/name_en í¬í•¨
  
#### 3ï¸âƒ£ ì•„ì´ì½˜ ìˆ˜ì§‘ (ì§„í–‰ ì¤‘)
- `scripts/fetchDomesticIcons.ts` ìž‘ì„± ì™„ë£Œ
- 3ê°œ ê±°ëž˜ì†Œë³„ ê³µì‹ ì•„ì´ì½˜ ë‹¤ìš´ë¡œë“œ
- `/public/icons/{exchange}/{symbol}.png` ì €ìž¥
- `data/exchangeIcons.json` ìƒì„± ëŒ€ê¸°

#### 4ï¸âƒ£ TradingView ìœ„ì ¯ ì—ëŸ¬ í•´ê²° âœ…
- JSON íŒŒì‹± ì—ëŸ¬ â†’ try-catch + fallback ì²˜ë¦¬
- ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì§€ì—° ì¶”ê°€ (100ms)

---

## ðŸ“‚ ìµœì¢… ë°ì´í„° ì•„í‚¤í…ì²˜

```
data/
â”œâ”€â”€ raw/
â”‚   â”œâ”€â”€ upbit/
â”‚   â”‚   â””â”€â”€ markets.json        (664ê°œ)
â”‚   â”œâ”€â”€ bithumb/
â”‚   â”‚   â””â”€â”€ markets.json        (456ê°œ, API ì§ì ‘ ìˆ˜ì§‘)
â”‚   â””â”€â”€ coinone/
â”‚       â””â”€â”€ markets.json        (390ê°œ, í•œê¸€ëª… í¬í•¨)
â”œâ”€â”€ exchange_markets.json       (1,120ê°œ í†µí•©)
â”œâ”€â”€ exchangeIcons.json          (ì•„ì´ì½˜ ë§¤í•‘, ìƒì„± ì¤‘)
â””â”€â”€ symbolIcons.json            (ìž‘ì—… ëŒ€ê¸°)

public/
â””â”€â”€ icons/
    â”œâ”€â”€ UPBIT/
    â”‚   â”œâ”€â”€ BTC.png
    â”‚   â”œâ”€â”€ ETH.png
    â”‚   â””â”€â”€ ...
    â”œâ”€â”€ BITHUMB/
    â”‚   â””â”€â”€ ...
    â””â”€â”€ COINONE/
        â””â”€â”€ ...
```

---

## ðŸ› ï¸ ì‚¬ìš© ê°€ëŠ¥í•œ npm ìŠ¤í¬ë¦½íŠ¸

```bash
npx tsx scripts/fetchUpbitMarkets.ts      # Upbit ë§ˆì¼“ ìˆ˜ì§‘
npx tsx scripts/fetchBithumbMarkets.ts    # Bithumb ë§ˆì¼“ ìˆ˜ì§‘ (API)
npx tsx scripts/fetchCoinoneMarkets.ts    # Coinone ë§ˆì¼“ + í•œê¸€ëª… í¬ë¡¤ë§
npx tsx scripts/mergeMarkets.ts           # ëª¨ë“  ë§ˆì¼“ ë³‘í•©
npx tsx scripts/fetchDomesticIcons.ts     # ê±°ëž˜ì†Œë³„ ì•„ì´ì½˜ ë‹¤ìš´ë¡œë“œ
npm run dev                                # ê°œë°œ ì„œë²„ ì‹¤í–‰
```

---

## ðŸ’¾ Supabase ì‚¬ìš© ë²”ìœ„ (ì¶•ì†Œë¨)

- `users` í…Œì´ë¸” (íšŒì› ê´€ë¦¬)
- `alerts` í…Œì´ë¸” (ì•Œë¦¼ ì„¤ì •)
- `notices` í…Œì´ë¸” (ê³µì§€ì‚¬í•­)

**ë©”íƒ€ë°ì´í„° & ê°€ê²© ë°ì´í„°: ë¡œì»¬ JSON** âœ…
**ë§ˆì¼“ ë°ì´í„°: ë¡œì»¬ JSON** âœ…

---

## ðŸ“ ê¸°ìˆ  ìŠ¤íƒ

- **Frontend**: Next.js 14, React, Tailwind CSS
- **Backend**: Node.js, TypeScript, Axios, Cheerio
- **Data Collection**: 
  - Upbit: API ì§ì ‘ í˜¸ì¶œ
  - Bithumb: API ì§ì ‘ í˜¸ì¶œ + fallback ë§¤í•‘
  - Coinone: API + HTML í¬ë¡¤ë§ (ê³ ê°ì„¼í„°)
- **Icons**: Cryptocurrency Icons CDN + ë¡œì»¬ ì €ìž¥
- **Deployment**: Replit

---

## ðŸ”„ ë‹¤ìŒ ë‹¨ê³„ (ì„ íƒì‚¬í•­)

1. **BTC Dominance + ì‹œì´/ê±°ëž˜ëŸ‰ ì‹¤ì‹œê°„ ìˆ˜ì§‘** (CoinGecko API í†µí•©)
2. **ê¸€ë¡œë²Œ ê±°ëž˜ì†Œ ë§ˆì¼“ ì¶”ê°€** (Binance, OKX, Bybit ë“±)
3. **ì•„ì´ì½˜ CDN ìµœì í™”** (lazy loading, WebP ë³€í™˜)
4. **í”„ë¦¬ë¯¸ì—„ ìžë™ ê³„ì‚° ì›Œì»¤** í™œì„±í™”
5. **ë°°í¬** (Replit Publish)

---

## ðŸ“Š ë°ì´í„° ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] Upbit 664ê°œ ë§ˆì¼“ + í•œê¸€/ì˜ë¬¸ëª…
- [x] Bithumb 456ê°œ ë§ˆì¼“ + í•œê¸€/ì˜ë¬¸ëª… (API)
- [x] Coinone 390ê°œ ë§ˆì¼“ + í•œê¸€/ì˜ë¬¸ëª… (í¬ë¡¤ë§)
- [x] ìµœì¢… í†µí•©: 1,120ê°œ ë§ˆì¼“
- [x] ê° ë§ˆì¼“ = ë³„ë„ í–‰ (ê·¸ë£¹í•‘ X)
- [x] name_ko/name_en í•„ë“œ: ì—†ìœ¼ë©´ ì œì™¸ (null ê¸ˆì§€)
- [x] TradingView ìœ„ì ¯ ì—ëŸ¬ í•´ê²°
- [â³] ì•„ì´ì½˜ ë‹¤ìš´ë¡œë“œ + exchangeIcons.json ìƒì„±

---

## ðŸ“Œ í•µì‹¬ ì›ì¹™ (ìœ ì§€)

- **ê°œë³„ í–‰ êµ¬ì¡°**: ê° market = exchange + symbol (ì ˆëŒ€ ê·¸ë£¹í•‘)
- **í•„ë“œ ìµœì†Œí™”**: ê°’ ì—†ìœ¼ë©´ í•„ë“œ ì œì™¸ (null ê¸ˆì§€)
- **ìš°ì„ ìˆœìœ„**: API í•œê¸€ëª… > Fallback ë§¤í•‘
- **ë¡œì»¬ JSON ìš°ì„ **: SupabaseëŠ” users/alerts/noticesë§Œ ì‚¬ìš©
